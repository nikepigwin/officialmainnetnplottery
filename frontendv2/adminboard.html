<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Admin Dashboard | Nikepig Lottery</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1">
    <link rel="icon" type="image/png" href="img/nikepigfavicon.png" sizes="32x32">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,500,400italic,500italic,700,700italic" rel="stylesheet"> 
    <link href="css/style.css" rel="stylesheet">
    <link href="css/admin.css" rel="stylesheet">
</head>
<body style="min-height:100vh;display:flex;flex-direction:column;box-sizing:border-box;max-width:100vw;overflow-x:hidden;">
    <header class="header" style="position:sticky; top:0; z-index:100; width:100%; background:#181a20; box-shadow:0 2px 12px 0 rgba(0,0,0,0.12); border-bottom:1px solid #23272f; min-height:70px; display:flex; align-items:center; justify-content:space-between; box-sizing:border-box; max-width:100vw; overflow-x:hidden;">
        <div style="display:flex;align-items:center;gap:40px; flex:1; min-width:0;">
            <img src="img/nikepiglogo.png" alt="Logo" style="height:40px; margin-left:8px;">
            <nav style="display:flex;align-items:center;gap:32px;">
                <a href="index.html" class="header-link" style="color:#b8b8b8;font-size:1rem;font-weight:600;text-decoration:none;">Home</a>
                <a href="#" class="header-link" style="color:#b8b8b8;font-size:1rem;font-weight:600;text-decoration:none;">Admin</a>
            </nav>
        </div>
        <div style="display:flex;align-items:center;gap:28px;">
            <span style="color:#3BC117;font-weight:700;font-size:1.1rem;">Admin Panel</span>
        </div>
    </header>
    <div class="flex column height-full width-full" style="overflow:unset;flex:1 1 auto;">
        <div class="wrapper-page flex row" style="overflow:unset; margin-left:240px;">
            <!-- SIDEBAR -->
            <aside class="sidebar" style="position:fixed; left:0; top:0; height:100vh; min-width:220px; max-width:260px; display:flex; flex-direction:column; align-items:flex-start; padding:90px 1.2rem 1.2rem 1.2rem; border-right:1px solid #2c313a; box-shadow:0 4px 24px 0 rgba(0,0,0,0.18); background:#20232a; z-index:10;">
                <nav style="width: 100%; display: flex; flex-direction: column; gap: 0;">
                    <a href="index.html" class="sidebar-link" style="display: flex; align-items: center; gap: 14px; font-weight: 700;">
                        <img src="img/lottery.png" alt="Lottery" style="width: 22px;">
                        Lottery Home
                    </a>
                    <a href="adminboard.html" class="sidebar-link active" style="display: flex; align-items: center; gap: 14px; font-weight: 700;">
                        <i class="fa fa-cogs"></i>
                        Admin Board
                    </a>
                </nav>
            </aside>
            <!-- MAIN CONTENT -->
            <main class="main-panel" style="width:100%; min-width:0;">
                <section class="card admin" style="margin-top:2rem;">
                    <h2 class="card-title">Admin Controls</h2>
                    <div class="stats-container" id="admin-stats"></div>
                    <div style="margin-top:2rem;display:flex;gap:24px;flex-wrap:wrap;">
                        <button class="site-button" id="open-round-btn">Open Round</button>
                        <button class="site-button" id="close-round-btn">Close Round</button>
                        <button class="site-button" id="draw-winner-btn">Pick Winner</button>
                        <button class="site-button" id="reset-lottery-btn" style="background:#dc3545;">Reset Lottery</button>
                        <button class="site-button" id="update-contract-btn" style="background:#3BC117;">Update Contract</button>
                        <button class="site-button" id="initialize-contract-btn" style="background:#3BC117;">Initialize Smart Contract</button>
                    </div>
                    <div id="adminNotification" class="notification" style="margin-top:2rem;display:none;"></div>
                </section>
                <section class="card" style="margin-top:2rem;">
                    <h2 class="card-title">Round History</h2>
                    <div class="table-container">
                        <table class="admin-table" style="width:100%;">
                            <thead>
                                <tr>
                                    <th>Round</th>
                                    <th>Total Pool (ADA)</th>
                                    <th>Participants</th>
                                    <th>Tickets</th>
                                    <th>Status</th>
                                    <th>Winners</th>
                                    <th>Draw Time</th>
                                </tr>
                            </thead>
                            <tbody id="historyTableBody"></tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>
    </div>
    <footer style="width:100%;background:#181a20;color:#b8b8b8;text-align:center;padding:1.2rem 0 0.8rem 0;font-size:1rem;margin-top:auto;">
        &copy; 2025 Nikepig Lottery. All rights reserved.
    </footer>
    <script src="https://unpkg.com/lucid-cardano@0.10.8/web/mod.js"></script>
    <script src="https://unpkg.com/@emurgo/cardano-serialization-lib-browser@10.0.4/cardano_serialization_lib.js"></script>
    <script src="adminboard.js"></script>
</body>
</html> 